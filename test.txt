package xmlerr

import "fmt"

var (
	_ Build = (Path)(nil)
)

type Build interface {
	GetPath() Path
	BuildPath() string
}

func (p Path) BuildPath() string {
	return ""
}

func (p Path) GetPath() Path {
	return p
}

type Path struct {
	Ne    string
	Pause string
	Upg   string
	Atom  string
}

type XMLErr struct {
	err      error
	errPath  Path
	errLevel string
	filePath string
}

func NewXMLErr(format string, v interface{}, a ...interface{}) XMLErr {
	xe := XMLErr{}
	if v != nil {
		build, ok := v.(Build)
		if ok {
			xe.errPath = build.GetPath()
		}
	}
	e := fmt.Errorf(format, a)
	xe.err = e
	// 默认错误级别
	xe.errLevel = "Error"
	return xe
}

func (e XMLErr) SetLevel(level string) {
	e.errLevel = level
}

// Error 返回错误信息
func (e XMLErr) Error() string {
	return ""
}

// ErrorWithColor cli程序返回带高亮色彩的错误信息
func (e XMLErr) ErrorWithColor() string {
	return ""
}

// buildPathStr 转化err的归属路径信息
func (e XMLErr) buildPathStr() string {
	return e.errPath.BuildPath()
}
